{% if node.raw %}
    {# see the RawDirective for where this is coming from; a refactor is desired to move this onto its own template / renderer #}
    {{ node.value|raw }}
{%- else -%}
    {% if node.caption %}
        <div class="code-block-caption">
            <span class="caption-text">{{ renderNode(node.caption) }}</span>
        </div>
    {%- endif -%}
    <pre{% if node.classes %} class="{{ node.classesString }}"{% endif %}><code class="language-{{ node.language }}{{ node.startingLineNumber ? ' line-numbers' }}"
                {%- if node.startingLineNumber %} data-start="{{ node.startingLineNumber }}"{% endif -%}
                {%- if node.emphasizeLines %} data-emphasize-lines="{{ node.emphasizeLines }}"{% endif -%}>
    {%- include "body/code/highlighted-code.html.twig" -%}
        </code></pre>
{%~ endif -%}
